(function(){"use strict";var i={Ok:1,YesNo:2,OkCancel:3},n={Ok:1,Yes:2,No:3,Cancel:4},t={success:1,error:2,warning:3,processing:4},r=Backbone.View.extend({el:".alert",initialize:function(){this.messageButtons=i;this.messageResult=n;this.messageTypes=t;this.autoHide=!1},show:function(n,t,i,r,u,s){this.hide();require(["dialog"],function(){var h=f(),c;s&&(h=$.extend(h,s));c=e();typeof n!="string"&&(n="");c.html(n);typeof t=="string"&&t!==""&&(h.title=t);h.buttons=o(i,r,u,c);c.dialog(h)})},prompt:function(n,t,i,r,u){var f=$('<div><textarea class="form-control" row="4" style="height: 80px"><\/textarea><\/div>'),e;f.dialog({title:n,width:"400px",height:"120px",draggable:!0,keyboard:!0,buttons:[{text:t,className:"btn-primary",click:function(){var n=f.find("textarea").val();if(r&&(n===""||n==null)){f.find("textarea").addClass("input-validation-error").first().focus();return}typeof i=="function"&&i(n);f.dialog("destroy")}},{text:egov.resources.common.closeButton,click:function(){f.dialog("destroy")}}]});e=f.find("textarea");u?e.focus().val(u):e.focus()},promptHasConfirmDisplay:function(n){var r=this,t=$('<div><textarea class="form-control" row="5" style="height: 120px"><\/textarea><\/div>'),i=t.find("textarea");t.dialog({title:n.title,width:"500px",height:"150px",draggable:!0,keyboard:!0,confirm:{id:"hasDisplay",text:n.confirmTitleName,style:{float:"left",display:"inline-block","font-size":"13px","font-weight":"normal"},callback:function(t){typeof n.callbackConfirm=="function"&&n.callbackConfirm(t)}},buttons:[{text:n.confirmButtonName,className:"btn-primary",click:function(){var i=t.find("textarea").val();if(n.isCheckNullOrEmpty&&(i===""||i==null)){t.find("textarea").addClass("input-validation-error").first().focus();return}typeof n.callback=="function"&&n.callback(i);t.dialog("destroy")}},{text:egov.resources.common.closeButton,className:"btn-close",click:function(){typeof n.callbackCloseForm=="function"&&n.callbackCloseForm();t.dialog("destroy")}}]});i.focus()},notification:function(n,t,i){if(n==="hide"){this.hide();return}if(i==undefined&&(i=!0),t==undefined&&(t=this.messageTypes.success),this.$el.removeClass(),this.$el.addClass(u(t)),this.$el.html(n),i){var r=this;this.$el.fadeIn();setTimeout(function(){r.hide()},1e4)}else this.$el.fadeIn()},processing:function(n,t){this.notification(n,this.messageTypes.processing,t)},error:function(n,t){this.notification(n,this.messageTypes.error,t)},success:function(n,t){this.notification(n,this.messageTypes.success,t)},warning:function(n,t){this.notification(n,this.messageTypes.warning,t)},hide:function(){this.$el.fadeOut("slow")}}),u=function(n){switch(n){case t.success:return"alert alert-success";case t.error:return"alert alert-danger";case t.warning:return"alert alert-warning";case t.processing:return"alert alert-info";default:return""}},f=function(){return{height:"auto",width:"600px",title:"Thông báo",draggable:!0,buttons:[],close:function(){}}},e=function(){var n=$("<div>");return n.css("min-width","200px"),n},o=function(t,r,u,f){if(typeof t!="number")return[];var e=[],o={Yes:egov.resources.common.messageYesBtn?egov.resources.common.messageYesBtn:"Yes",No:egov.resources.common.messageNoBtn?egov.resources.common.messageNoBtn:"No",Cancel:egov.resources.common.messageCancelBtn?egov.resources.common.messageCancelBtn:"Cancel",Ok:egov.resources.common.messageOkBtn?egov.resources.common.messageOkBtn:"Ok"};switch(t){case i.YesNo:e.push({text:o.Yes,className:"btn-primary",click:function(){return f.dialog("destroy"),typeof r=="function"&&r(),n.Yes}});e.push({text:o.No,click:function(){return f.dialog("destroy"),typeof u=="function"&&u(),n.No}});break;case i.OkCancel:e.push({text:o.Ok,className:"btn-primary",click:function(){return f.dialog("destroy"),typeof r=="function"&&r(),n.OK}});e.push({text:o.Cancel,click:function(){return f.dialog("destroy"),typeof u=="function"&&u(),n.Cancel}});break;default:e.push({text:o.Ok,className:"btn-primary",click:function(){return f.dialog("destroy"),typeof r=="function"&&r(),n.OK}})}return e};return window.eGovMessage=r,r})();