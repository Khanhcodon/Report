(function(){"use strict";var n=Backbone.View.extend({selectedClass:"rowSelected",events:{"click tr":"selected","click .checkAll":"selectMany","mousedown th":"startResize",mousemove:"onResize",mouseup:"endResize"},pressed:!1,startWidth:undefined,initialize:function(n){this.$el=n.el;this.resizable=n.resizable;this.scrollable=n.scrollable;this.render()},render:function(){this.resizable&&this.renderResizable();this.scrollable&&this.renderScollable()},startResize:function(){this.pressed=!0},onResize:function(){this.pressed&&this.$el.find("colgroup").remove()},endResize:function(){this.pressed&&(this.pressed=!1)},selected:function(n){var r=$(n.target),t=r.is("tr")?r:r.parents("tr"),u,i,f;if(n&&n.preventDefault(),n=n||{},u=n.ctrlKey||$(n.target).closest('.checkbox, [type="checkbox"]').length>0,n.shiftKey){var e=this.$el.find("."+this.selectedClass).first().index(),o=t.index(),s=this.$el.find("tr");for(this.removeAllSelected(),i=e;i<=o;i++)f=s.eq(i),f.addClass(this.selectedClass),this.select(f)}else u?t.hasClass(this.selectedClass)?(t.find('.checkbox, [type="checkbox"]').removeClass("checked").prop("checked",!1),t.removeClass(this.selectedClass)):this.select(t):(this.removeAllSelected(),this.select(t));u&&n.stopPropagation()},select:function(n){n.addClass(this.selectedClass);n.find('.checkbox, [type="checkbox"]').addClass("checked").prop("checked",!0)},selectAll:function(){this.$el.find("tr").addClass(this.selectedClass);this.$('tr .checkbox, tr [type="checkbox"]').addClass("checked").prop("checked",!0)},selectMany:function(n){var t=$(n.target).closest(".checkAll");t.hasClass("checked")||t.is(":checked")?(this.removeAllSelected(),t.removeClass("checked").removeAttr("checked")):(this.selectAll(),t.addClass("checked").prop("checked",!0));n&&(n.stopPropagation(),n.preventDefault())},removeAllSelected:function(){this.$("tr").removeClass(this.selectedClass);this.$('tr .checkbox, tr [type="checkbox"]').removeClass("checked").prop("checked",!1)},renderResizable:function(){this.$("th").resizable()},renderScollable:function(){}});egov.utils.table=n})();