define([],function(){"use strict";return Backbone.View.extend({initialize:function(n){this.docCopyId=n.docCopyId;this.dateCreated=n.dateCreated;this.callback=n.callback;this.open()},open:function(){var n=this,t={width:500,title:"Lấy lại văn bản",buttons:[{text:"Đồng ý",className:"btn-primary",click:function(){n.save(function(){n.$el.dialog("destroy")})}},{text:"Bỏ qua",className:"btn-close",click:function(){n.$el.dialog("destroy")}}]};this.$el.html("<span>Bạn có đồng ý lấy lại văn bản/hồ sơ này không?<\/span><\/br><div><\/div><div id='viewDetailRetrieve' style='height: 40px; overflow-y:scroll;'><\/div>");this.$el.dialog(t)},save:function(n){var t=this,i=t.dateCreated;egov.request.undoTransfering({data:{documentCopyId:t.docCopyId,dateCreated:i},beforeSend:function(){egov.pubsub.publish(egov.events.status.processing,"Đang xử lý!")},success:function(i){i.error?egov.pubsub.publish(egov.events.status.error,i.error):(egov.pubsub.publish(egov.events.status.success,i.success),egov.callback(t.callback),egov.callback(n))},error:function(n){egov.pubsub.publish(egov.events.status.error,n.statusText)}})}})});