define(["jquery","editor"],function(n,t){var r=Backbone.View.extend({initialize:function(n){this.frame=n.frame;this.contentId=n.contentId;this.doctypeId=n.doctypeId;this.open()},open:function(){var u=this,r=n(".content[data-contentid="+u.contentId+"]",n("#"+this.frame).contents()),t=n('<div id="editHTML" name="editHTML"><\/div>'),f={height:500,width:1e3,title:"Chỉnh sửa HTML"};f.buttons=[{text:"Cập nhật",click:function(){u.update(r);egov.views.base.dialog.close()}},{text:"Đóng",click:function(){egov.views.base.dialog.close()}}];r.html()===null||r.html()===""?n.ajax({url:"/Document/GetFormContent",type:"GET",data:{contentId:u.contentId,isCreate:!1,doctypeId:u.doctypeId},success:function(n){t.remove();t.html(n).appendTo("body");r.html(n).css({display:"none"});egov.views.base.dialog.open(t[0],f);i(t[0])}}):(t.remove(),t.html(r.html()).appendTo("body"),egov.views.base.dialog.open(t[0],f),i(t[0]))},update:function(i){var u=n(this),r=CKEDITOR.instances.editHTML.getData();i.html(r);egov.message.notification("Chỉnh sửa nội dung thành công!.",egov.message.messageTypes.success);t&&t.destroy()}}),i=function(i,r){if(t)try{var u=t.name;CKEDITOR.instances[u].destroy()}catch(f){t.destroy()}if(t=CKEDITOR.replace(i,{height:n(i).height(),toolbar:"Basic"}),r&&typeof r=="function")t.on("instanceReady",r)};return r});
//# sourceMappingURL=editFormHTML-view.min.js.map
