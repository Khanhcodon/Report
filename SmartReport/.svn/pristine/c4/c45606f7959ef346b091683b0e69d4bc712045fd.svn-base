/*!
 * jQuery DialogExtend 1.0
 *
 * Copyright (c) 2010 Shum Ting Hin
 *
 * Licensed under MIT
 *   http:// www.opensource.org/licenses/mit-license.php
 *
 * Project Home:
 *   http:// code.google.com/p/jquery-dialogextend/
 *
 * Depends:
 *   jQuery 1.7.2
 *   jQuery UI Dialog 1.8.22
 *
 */
(function(n){var i={close:!0,maximize:!1,minimize:!1,dblclick:!1,titlebar:!1,icons:{close:"ui-icon-closethick",maximize:"ui-icon-extlink",minimize:"ui-icon-minus",restore:"ui-icon-newwin"},events:{load:null,beforeCollapse:null,beforeMaximize:null,beforeMinimize:null,beforeRestore:null,collapse:null,maximize:null,minimize:null,restore:null}},t,r={init:function(r){var u=this;return n(u).dialog||n.error("jQuery.dialogExtend Error : Only jQuery UI Dialog element is accepted"),r=r||{},r.icons=r.icons||{},r.events=r.events||{},t=n.extend({},i,r),t.icons=n.extend({},i.icons,r.icons),t.events=n.extend({},i.events,r.events),n(u).each(function(){n(this).dialogExtend("_verifySettings").dialogExtend("_initEvents").dialogExtend("_initStyles").dialogExtend("_initButtons").dialogExtend("_initTitleBar").dialogExtend("_setState","normal").dialogExtend("_trigger","load")}),u},state:function(){return n(this).data("dialog-extend-state")},collapse:function(){var t=this,i=n(this).dialog("widget").find(".ui-dialog-titlebar").height()+15;return n(t).dialogExtend("_trigger","beforeCollapse").dialogExtend("_saveSnapshot").dialog("option",{resizable:!1,height:i,maxHeight:i}).hide().dialog("widget").find(".ui-dialog-buttonpane:visible").hide().end().find(".ui-dialog-titlebar").css("white-space","nowrap").end().find(".ui-dialog-content").dialogExtend("_setState","collapsed").dialogExtend("_trigger","collapse"),t},maximize:function(){var t=this,i=n(window).height()-11,r=n(window).width()-11;return n(t).dialogExtend("_trigger","beforeMaximize").each(function(){n(this).dialogExtend("state")!="normal"&&n(this).dialogExtend("_restoreWithoutTriggerEvent")}).dialogExtend("_saveSnapshot").dialog("widget").css({position:n.browser.mise&&parseInt(n.browser.version)<=6?"absolute":"fixed"}).find(".ui-dialog-content").show().dialog("widget").find(".ui-dialog-buttonpane").show().end().find(".ui-dialog-content").dialog("option",{resizable:!1,draggable:!1,height:i,width:r,position:[1,1]}).dialog("widget").draggable("option","handle",null).find(".ui-dialog-draggable-handle").css("cursor","text").end().find(".ui-dialog-content").dialogExtend("_setState","maximized").dialogExtend("_toggleButtons").dialogExtend("_trigger","maximize"),t},minimize:function(){var i=this,r=n(this).dialog("widget").find(".ui-dialog-titlebar").height()+15,t;return t=n("#dialog-extend-fixed-container").length?n("#dialog-extend-fixed-container"):n('<div id="dialog-extend-fixed-container"><\/div>').appendTo("body"),n(t).css({position:n.browser.mise&&parseInt(n.browser.version)<=6?"absolute":"fixed",bottom:1,left:1,"z-index":9999}),n(i).dialogExtend("_trigger","beforeMinimize").dialogExtend("_saveSnapshot").dialog("widget").css({float:"left",margin:1,position:"static"}).appendTo(t).find(".ui-dialog-content").dialog("option",{resizable:!1,height:r,width:200}).dialog("widget").find(".ui-dialog-titlebar").each(function(){var t=this,i=n(this).find(".ui-dialog-titlebar-buttonpane"),r=n(this).find(".ui-dialog-title");n(r).css({overflow:"hidden",width:n(t).width()-n(i).width()+10})}).end().find(".ui-dialog-content").hide().dialog("widget").find(".ui-dialog-buttonpane:visible").hide().end().find(".ui-dialog-titlebar").css("white-space","nowrap").end().find(".ui-dialog-content").dialog("widget").draggable("option","handle",null).find(".ui-dialog-draggable-handle").css("cursor","text").end().find(".ui-dialog-content").dialogExtend("_setState","minimized").dialogExtend("_toggleButtons").dialogExtend("_trigger","minimize"),i},restore:function(){var t=this;return n(t).dialogExtend("_trigger","beforeRestore").dialogExtend("_restoreWithoutTriggerEvent").dialogExtend("_setState","normal").dialogExtend("_toggleButtons").dialogExtend("_trigger","restore"),t},_initButtons:function(){var i=this,r=n(i).dialog("widget").find(".ui-dialog-titlebar"),u=n('<div class="ui-dialog-titlebar-buttonpane"><\/div>').appendTo(r);return n(u).css({position:"absolute",top:"50%",right:"0.3em","margin-top":"-10px",height:"18px"}),n(r).find(".ui-dialog-titlebar-close").css({position:"static",top:"auto",right:"auto",margin:0}).find(".ui-icon").removeClass("ui-icon-closethick").addClass(t.icons.close).end().appendTo(u).end(),n(u).append('<a class="ui-dialog-titlebar-maximize ui-corner-all" href="#"><span class="ui-icon '+t.icons.maximize+'">maximize<\/span><\/a>').append('<a class="ui-dialog-titlebar-restore ui-corner-all" href="#"><span class="ui-icon '+t.icons.restore+'">restore<\/span><\/a>').append('<a class="ui-dialog-titlebar-minimize ui-corner-all" href="#"><span class="ui-icon '+t.icons.minimize+'">minimize<\/span><\/a>').find(".ui-dialog-titlebar-maximize,.ui-dialog-titlebar-minimize,.ui-dialog-titlebar-restore").attr("role","button").mouseover(function(){n(this).addClass("ui-state-hover")}).mouseout(function(){n(this).removeClass("ui-state-hover")}).focus(function(){n(this).addClass("ui-state-focus")}).blur(function(){n(this).removeClass("ui-state-focus")}).end().find(".ui-dialog-titlebar-close").toggle(t.close).end().find(".ui-dialog-titlebar-maximize").toggle(t.maximize).click(function(t){t.preventDefault();n(i).dialogExtend("maximize")}).end().find(".ui-dialog-titlebar-minimize").toggle(t.minimize).click(function(t){t.preventDefault();n(i).dialogExtend("minimize")}).end().find(".ui-dialog-titlebar-restore").hide().click(function(t){t.preventDefault();n(i).dialogExtend("restore")}).end(),n(r).dblclick(function(){t.dblclick&&t.dblclick.length&&n(i).dialogExtend(n(i).dialogExtend("state")!="normal"?"restore":t.dblclick)}).select(function(){return!1}),i},_initEvents:function(){var i=this;return n.each(t.events,function(r){n.isFunction(t.events[r])&&n(i).bind(r+".dialogExtend",t.events[r])}),i},_initStyles:function(){var i=this,t;return n(".dialog-extend-css").length||(t="",t+='<style class="dialog-extend-css" type="text/css">',t+=".ui-dialog .ui-dialog-titlebar-buttonpane>a { float: right; }",t+=".ui-dialog .ui-dialog-titlebar-maximize,",t+=".ui-dialog .ui-dialog-titlebar-minimize,",t+=".ui-dialog .ui-dialog-titlebar-restore { width: 19px; padding: 1px; height: 18px; }",t+=".ui-dialog .ui-dialog-titlebar-maximize span,",t+=".ui-dialog .ui-dialog-titlebar-minimize span,",t+=".ui-dialog .ui-dialog-titlebar-restore span { display: block; margin: 1px; }",t+=".ui-dialog .ui-dialog-titlebar-maximize:hover,",t+=".ui-dialog .ui-dialog-titlebar-maximize:focus,",t+=".ui-dialog .ui-dialog-titlebar-minimize:hover,",t+=".ui-dialog .ui-dialog-titlebar-minimize:focus,",t+=".ui-dialog .ui-dialog-titlebar-restore:hover,",t+=".ui-dialog .ui-dialog-titlebar-restore:focus { padding: 0; }",t+=".ui-dialog .ui-dialog-titlebar ::selection { background-color: transparent; }",t+="<\/style>",n(t).appendTo("body")),i},_initTitleBar:function(){var i=this,r;switch(t.titlebar){case!1:break;case"none":n(i).dialog("option","draggable")&&(r=n("<div />").addClass("ui-dialog-draggable-handle").css("cursor","move").height(5),n(i).dialog("widget").prepend(r).draggable("option","handle",r));n(i).dialog("widget").find(".ui-dialog-titlebar").find(".ui-dialog-title").html("&nbsp;").end().css({"background-color":"transparent","background-image":"none",border:0,position:"absolute",right:0,top:0,"z-index":9999}).end();break;case"transparent":n(i).dialog("widget").find(".ui-dialog-titlebar").css({"background-color":"transparent","background-image":"none",border:0});break;default:n.error("jQuery.dialogExtend Error : Invalid <titlebar> value '"+t.titlebar+"'")}return i},_loadSnapshot:function(){var t=this;return{config:{resizable:n(t).data("original-config-resizable"),draggable:n(t).data("original-config-draggable")},size:{height:n(t).data("original-size-height"),width:n(t).data("original-size-width"),maxHeight:n(t).data("original-size-maxHeight")},position:{mode:n(t).data("original-position-mode"),left:n(t).data("original-position-left"),top:n(t).data("original-position-top")},titlebar:{wrap:n(t).data("original-titlebar-wrap")}}},_restoreFromCollapsed:function(){var i=this,t=n(this).dialogExtend("_loadSnapshot");return n(i).show().dialog("widget").find(".ui-dialog-buttonpane:hidden").show().end().find(".ui-dialog-titlebar").css("white-space",t.titlebar.wrap).end().find(".ui-dialog-content").dialog("option",{resizable:t.config.resizable,height:t.size.height,maxHeight:t.size.maxHeight}),i},_restoreFromNormal:function(){return this},_restoreFromMaximized:function(){var i=this,t=n(this).dialogExtend("_loadSnapshot");return n(i).dialog("widget").css("position",t.position.mode).find(".ui-dialog-titlebar").css("white-space",t.titlebar.wrap).end().find(".ui-dialog-content").dialog("option",{resizable:t.config.resizable,draggable:t.config.draggable,height:t.size.height,width:t.size.width,maxHeight:t.size.maxHeight}).dialog("option",{position:[t.position.left,t.position.top]}).dialog("widget").draggable("option","handle",n(this).find(".ui-dialog-draggable-handle")).find(".ui-dialog-draggable-handle").css("cursor","move"),i},_restoreFromMinimized:function(){var i=this,t=n(this).dialogExtend("_loadSnapshot");return n(i).dialog("widget").appendTo("body").css({float:"none",margin:0,position:t.position.mode}).find(".ui-dialog-content").dialog("widget").find(".ui-dialog-title").css({width:"auto"}).end().find(".ui-dialog-content").show().dialog("widget").find(".ui-dialog-buttonpane:hidden").show().end().find(".ui-dialog-titlebar").css("white-space",t.titlebar.wrap).end().find(".ui-dialog-content").dialog("option",{resizable:t.config.resizable,draggable:t.config.draggable,height:t.size.height,width:t.size.width,maxHeight:t.size.maxHeight}).dialog("option",{position:[t.position.left,t.position.top]}).dialog("widget").draggable("option","handle",n(this).find(".ui-dialog-draggable-handle")).find(".ui-dialog-draggable-handle").css("cursor","move"),i},_restoreWithoutTriggerEvent:function(){var i=this,t=n(i).dialogExtend("state");return n(i).dialogExtend(t=="maximized"?"_restoreFromMaximized":t=="minimized"?"_restoreFromMinimized":t=="collapsed"?"_restoreFromCollapsed":t=="normal"?"_restoreFromNormal":n.error("jQuery.dialogExtend Error : Cannot restore dialog from unknown state '"+t+"'")),i},_saveSnapshot:function(){var t=this;return n(t).dialogExtend("state")=="normal"&&n(t).data("original-config-resizable",n(t).dialog("option","resizable")).data("original-config-draggable",n(t).dialog("option","draggable")).data("original-size-height",n(t).dialog("widget").height()).data("original-size-width",n(t).dialog("option","width")).data("original-size-maxHeight",n(t).dialog("option","maxHeight")).data("original-position-mode",n(t).dialog("widget").css("position")).data("original-position-left",n(t).dialog("widget").offset().left).data("original-position-top",n(t).dialog("widget").offset().top).data("original-titlebar-wrap",n(t).dialog("widget").find(".ui-dialog-titlebar").css("white-space")),t},_setState:function(t){var i=this;return n(i).data("dialog-extend-state",t).removeClass("ui-dialog-normal ui-dialog-maximized ui-dialog-minimized ui-dialog-collapsed").addClass("ui-dialog-"+t),i},_toggleButtons:function(){var i=this;return n(i).dialog("widget").find(".ui-dialog-titlebar-maximize").toggle(n(i).dialogExtend("state")!="maximized"&&t.maximize).end().find(".ui-dialog-titlebar-minimize").toggle(n(i).dialogExtend("state")!="minimized"&&t.minimize).end().find(".ui-dialog-titlebar-restore").toggle(n(i).dialogExtend("state")!="normal"&&(t.maximize||t.minimize)).css({right:n(i).dialogExtend("state")=="maximized"?"1.4em":n(i).dialogExtend("state")=="minimized"?t.maximize?"2.5em":"1.4em":"-9999em"}).end(),i},_trigger:function(t){var i=this;return n(i).triggerHandler(t+".dialogExtend",this),i},_verifySettings:function(){var i=this;return t.dblclick&&(t.dblclick=="maximize"||t.dblclick=="minimize"||t.dblclick=="collapse"||(n.error("jQuery.dialogExtend Error : Invalid <dblclick> value '"+t.dblclick+"'"),t.dblclick=!1)),t.titlebar&&(t.titlebar=="none"||t.titlebar=="transparent"||(n.error("jQuery.dialogExtend Error : Invalid <titlebar> value '"+t.titlebar+"'"),t.titlebar=!1)),i}};n.fn.dialogExtend=function(t){if(r[t])return r[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("jQuery.dialogExtend Error : Method <"+t+"> does not exist");else return r.init.apply(this,arguments)}})(jQuery);
//# sourceMappingURL=jquery.dialogextend.min.js.map
