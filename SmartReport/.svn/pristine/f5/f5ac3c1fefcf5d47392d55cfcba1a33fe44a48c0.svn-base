(function(n){if(typeof n=="undefined")throw"Thư viện này sử dụng jQuery, hãy tải thư viện jQuery trước khi sử dụng";var t=function(t,i){if(t.find(".trodd").removeClass("trodd"),t.find("tr:odd").addClass("trodd"),i){var r=t.find("tr");r.length>0&&(r.hover(function(){n(this).addClass("hover-row")},function(){n(this).removeClass("hover-row")}),r.click(function(){r.removeClass("highlight-row");n(this).addClass("highlight-row")}),r.mousedown(function(t){t.which===3&&(r.removeClass("highlight-row"),n(this).addClass("highlight-row"))}),n(".grid-content table tbody tr input, .grid-content table tbody tr a, .grid-content table tbody tr button").unbind("click").click(function(n){return n.stopPropagation(),!0}))}},i=function(){if("localStorage"in window&&window.localStorage!==null)try{return window.localStorage.setItem("egov","Bkav Corporation"),window.localStorage.removeItem("egov"),!0}catch(n){return!1}else return!1};jQuery.fn.grid=function(r){if(typeof r=="string"&&r.toLowerCase()==="refresh"){this.each(function(i,r){t(n(r).parent(),n(r).data()["bkav.grid"].isAddHoverRow)});return}r=n.extend({isUsingCustomScroll:!1,isAutoHideScroll:!0,isResizeColumn:!0,isFixHeightContent:!0,isAddHoverRow:!0,isUseCookie:!0,isRenderPanelGrid:!0,onresizefinish:function(){}},r);this.each(function(u,f){var g=null,nt=null,rt=null,lt=null,ut=null,h=null,o=n(f),s,et,ot,st,e,k,at,it,w,l,v,ct,vt,d,b;if(o.length===0||o[0].tagName!=="TABLE")return!1;o.data("bkav.grid",r);r.isRenderPanelGrid?(s=n("<div><\/div>"),o.after(s)):s=o.parent();s.attr("data-key",o.attr("id"));s.hasClass("grid")||s.addClass("grid");r.width&&(typeof r.width=="number"?s.width(r.width+"px"):typeof r.width=="string"&&s.width(r.width));o.hasClass("table-main")||o.addClass("table-main");var tt=n('<div class="grid-header"><\/div>'),c=n('<div class="grid-header-wrap"><\/div>'),y=n('<table class="table table-hover table-main"><\/table>'),yt=o.find("thead tr:first th").length,ft=n("<colgroup><\/colgroup>");if(y.append(ft),o.find("col").length===0)for(et=n("<colgroup><\/colgroup>"),o.children("tbody").before(et),ot=0;ot<yt;ot++)ft.append("<col />"),et.append("<col />");else ft.append(o.find("colgroup").html());if(o.find("thead tr:first th").each(function(t,i){n(i).hasClass("header")||n(i).addClass("header")}),y.append(o.find("thead")),c.append(y),tt.append(c),s.append(tt),o.find("tfoot tr td").length>0&&(st=n('<div class="grid-pager grid-pager-wrap grid-pager-bottom"><\/div>'),st.append(o.find("tfoot tr td:first").html()),s.append(st),o.find("tfoot").remove()),e=n('<div class="grid-content"><\/div>'),e.append(o),tt.after(e),t(e,r.isAddHoverRow),r.isFixHeightContent?(e.css({"overflow-y":"auto"}),r.height&&(typeof r.height=="number"?e.height(r.height+"px"):typeof r.height=="string"&&e.height(r.height))):(e.css({"overflow-y":"visible",height:""}),r.height&&(typeof r.height=="number"?s.height(r.height+"px"):typeof r.height=="string"&&s.height(r.height))),r.isResizeColumn){k=u+"_"+o.attr("id")+"_"+window.location.pathname;at=y.find("thead tr:first th");e.bind("mousedown, mouseup, mousemove",function(){var t=n(this).scrollLeft();c.css({"margin-left":-t})});it=null;r.isUseCookie&&(it=i()?window.localStorage.getItem(k):n.cookie(k));var a=c.find("col"),p=e.children("table"),ht=e.find("col");if(y.css({minWidth:"1024px"}),p.css({minWidth:"100%"}),r.isFixHeightContent&&!r.isUsingCustomScroll&&e.height()<p.height()&&(tt.css("padding-right",n.layout.scrollbarWidth()+"px"),p.css("padding-right",n.layout.scrollbarWidth()+"px")),it){if(w=it.split(","),w.length==a.length){for(h=0,l=0;l<w.length;l++)a.eq(l)&&(a.eq(l).width(w[l]+"px"),ht.eq(l).width(w[l]+"px"),h+=parseInt(w[l]));y.width(h+"px");p.width(h+"px")}}else if(v=[],ct=0,a.each(function(t){n(this).width()==0||n(this).inlineStyle("width")==null?v.push(t):ct+=n(this).width()}),v.length>0)for(h=s.width(),r.isFixHeightContent&&!r.isUsingCustomScroll&&(h=h-n.layout.scrollbarWidth()),vt=h-ct,d=vt/v.length,b=0;b<v.length;b++)b==v.length-1&&(d=d-n.layout.scrollbarWidth()),a.eq(v[b]).width(d),ht.eq(v[b]).width(d);else h=0,a.each(function(t,i){h+=n(i).width()});r.isUsingCustomScroll&&e.niceScroll({autohidemode:r.isAutoHideScroll});at.each(function(t,u){n(u).unbind("mousedown").mousedown(function(t){if(n(t.target).css("cursor")=="w-resize"){t.preventDefault();n("body").addClass("unselectable");g=!0;nt=t.target;rt=n(nt).index();lt=t.clientX;ut=n(nt).outerWidth();h=p.width();var u=n('<div id="resize-column-layer" style="position:fixed; z-index:10000; top:0; left:0; opacity: 0; filter: alpha(opacity=0); background-color: #000;cursor: w-resize !important;border-right:1px solid gray"><\/div>').css({height:n(document).height(),width:n(document).width(),display:"block"}).mousemove(function(n){var t,i;g&&(t=lt-n.clientX,ut-t>10&&(i=ut-t,a.eq(rt).width(i),ht.eq(rt).width(i),y.width(h-t),c.width(h-t),p.width(h-t),e.width(h-t)));c.css({"margin-left":-e.scrollLeft()})}).mouseup(function(t){var h,l,o;if(g){if(g=!1,nt=null,n("body").css({cursor:""}),n("body").removeClass("unselectable"),r.isUseCookie){var f=[],u=[],s=0;if(a.each(function(t){n(this).width()==0||n(this).inlineStyle("width")==null?u.push(t):s+=n(this).width();f.push(n(this).width())}),u.length>0)for(h=p.width()-s,l=h/u.length,o=0;o<u.length;o++)f[u[o]]=l;i()?window.localStorage.setItem(k,f.join(",")):n.cookie(k,f.join(","),{expires:7,path:"/",secure:!0})}r.onresizefinish&&n.isFunction(r.onresizefinish)&&r.onresizefinish();r.isUsingCustomScroll&&e.getNiceScroll().resize();c.css({"margin-left":-e.scrollLeft()});n(t.target).css({cursor:"w-resize","border-right":""});n(this).remove()}}).appendTo("body");n.support.fixedPosition||u.css({position:"absolute",height:n(document).height()})}});n(u).unbind("mousemove").mousemove(function(t){if(n(t.target).attr("class")!="grid-header-wrap"&&n(t.target).attr("class")=="header"){var i=n(t.target).bounds();c.css({"margin-left":-e.scrollLeft()});Math.abs(i.left+i.width+10-t.clientX)<=10?n(t.target).css({cursor:"w-resize"}):n(t.target).css({cursor:""})}})})}else e.css({"overflow-x":"visible"}),c.css("width",s.width()-1).children("table").css("width",s.width()-1),e.css("width",s.width()-2).children("table").css("width",s.width()-2)})}})(window.jQuery),function(n){jQuery.fn.bounds=function(){var t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:Number.NaN,height:Number.NaN};return this.each(function(i,r){var f=n(r),u=f.offset();u.right=u.left+n(f).width();u.bottom=u.top+n(f).height();u.left<t.left&&(t.left=u.left);u.top<t.top&&(t.top=u.top);u.right>t.right&&(t.right=u.right);u.bottom>t.bottom&&(t.bottom=u.bottom)}),t.width=t.right-t.left,t.height=t.bottom-t.top,t}}(window.jQuery),function(n){n.fn.inlineStyle=function(t){var r=n(this).attr("style"),e,u,i,f;if(r==null||r==undefined)return null;for(u=r.split(";"),i=0;i<u.length;i++)f=u[i].split(":"),n.trim(f[0])===t&&(e=f[1]);return e}}(window.jQuery),function(n){n.fn.tableSelect=function(t){var i={clickedClass:"selected",clickCallback:null,contextCallback:null,tableCallback:null},f,u,e,r,o;if(i=n.extend(i,t),f=n(this),f[0].tagName!=="TABLE")return!1;r=n(f).find("tr");o=function(){n.each(r,function(){n(this).removeClass(i.clickedClass)})};n.each(r,function(){var t=n(this);t.children("td").attr("class","");t.children("td").attr("unselectable","on");t.on("click",function(t){var f=n(this),s;if(t.shiftKey){var h=r.index(u),c=r.index(this),l=Math.min(c,h),a=Math.max(c,h)+1;for(o(),s=l;s<a;s++)n(r[s]).hasClass(i.clickedClass)||n(r[s]).addClass(i.clickedClass);e=u}else t.ctrlKey?(this.className.search(i.clickedClass)>-1?f.removeClass(i.clickedClass):f.hasClass(i.clickedClass)||f.addClass(i.clickedClass),u=this,e=this):(o(),f.hasClass(i.clickedClass)||(f.addClass(i.clickedClass),u=this,e=this));typeof i.clickCallback=="function"&&i.clickCallback()});!t.hasClass(i.clickedClass);i.tableCallback&&typeof i.tableCallback=="function"&&i.tableCallback()})};n.fn.openLink=function(t){var i={event:"dblclick",urlOpen:""},r=n(this),u,f;if(i=n.extend(i,t),r[0].tagName!=="TABLE"||i.urlOpen==null||i.urlOpen==""||i.event==null||i.event=="")return!1;u=n(r).find("tr");n.each(u,function(){var t=n(this);t.on(i.event,function(){var t=n(this),r=t.attr("id")||t.attr("data-id");urlOpen=f(i.urlOpen);r&&urlOpen!=null&&urlOpen!=""&&(document.location.href=urlOpen+"/"+r)})});String.prototype.endsWith||(String.prototype.endsWith=function(n,t){var i=this.toString(),r;return(typeof t!="number"||!isFinite(t)||Math.floor(t)!==t||t>i.length)&&(t=i.length),t-=n.length,r=i.indexOf(n,t),r!==-1&&r===t});f=function(n){return n==""||n==null?null:(n.endsWith("/")&&(n=n.substring(0,n.lastIndexOf("/"))),n)}}}(jQuery);