(function(){"use strict";var r=".qtooltip",u=".edropdown",f=".shortkey",n=function(){};n.prototype.initShortKeyHelper=function(){s()};n.prototype.bind=function(n){n instanceof jQuery||(n=$(n));n.each(function(n,f){if(f=$(f),f.is(r))e(f);else if(f.is(u))o(f);else{var s=i();s.position=t($(f));f.qtip(s)}})};n.prototype.destroy=function(n){n.qtip("destroy")};var e=function(n){var r=$(n),u=i();u.events={show:function(){var i=r.data("qtip").elements.target,n=t(r);i.qtip("option",{"position.at":n.at,"position.my":n.my})}};r.qtip(u)},t=function(n){var t=n.offset().left,e=n.offset().top,s=n.height(),o=n.width(),h=n.attr("etip-width"),i="top",r="center",u="bottom",f="center";return t<20&&(r="left",f="left"),(t+o>window.innerWidth-h/2||t+o>window.innerWidth-50)&&(r="right",f="right"),e<20&&(u="bottom",i="top"),e+s>window.innerHeight-20&&(i="bottom",u="top"),{my:i+r,at:u+f}},o=function(n){var i=$(n),r=i.attr("content-id"),o=i.attr("data-url"),u=i.attr("show-tip")=="true",s=t(i),f,e;s.adjust={y:u?5:13};f=i.attr("etip-width");e=i.attr("etip-height");i.qtip({content:{text:function(n,t){if(r!=undefined&&r!=="")return r.indexOf("#")<0&&(r="#"+r),$(r);$.ajax({url:o,type:"POST"}).then(function(n){t.set("content.text",n)},function(n,i,r){t.set("content.text",i+":"+r)})}},events:{show:function(){var r=i.data("qtip").elements.target,n=t(i);n.adjust={y:u?5:13};r.qtip("option",{"position.at":n.at,"position.my":n.my,"position.adjust.y":n.adjust.y})}},show:{event:"click",fixed:!0,effect:!1,delay:0},hide:{event:"click unfocus",fixed:!0,effect:!1,delay:0},style:{classes:"qtip-light",tip:u,width:f,height:e}})},s=function(){var n=i();n.style={tip:!1,classes:"shortkey-helper"};n.position={my:"bottom left",at:"center right"};n.show=!1;$(f).qtip(n)},i=function(){return{style:{tip:!1,classes:"qtip-dark tooltip"},position:{my:"top center",at:"bottom center",adjust:{y:10}}}};return n})();