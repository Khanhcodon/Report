(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)})(function(n){function v(t){var i=t.data("timepicker-settings"),r=t.data("timepicker-list"),o,y,h,l,u;r&&r.length&&(r.remove(),t.data("timepicker-list",!1));r=n("<ul />",{tabindex:-1,"class":"ui-timepicker-list"});i.className&&r.addClass(i.className);r.css({display:"none",position:"absolute"});(i.minTime!==null||i.durationTime!==null)&&i.showDuration&&r.addClass("ui-timepicker-with-duration");var p=i.durationTime!==null?i.durationTime:i.minTime,a=i.minTime!==null?i.minTime:0,v=i.maxTime!==null?i.maxTime:a+e-1;for(v<=a&&(v+=e),o=a;o<=v;o+=i.step*60)y=o%e,h=n("<li />"),h.data("time",y),h.text(f(y,i.timeFormat)),(i.minTime!==null||i.durationTime!==null)&&i.showDuration&&(l=n("<span />"),l.addClass("ui-timepicker-duration"),l.text(" ("+b(o-p)+")"),h.append(l)),r.append(h);r.data("timepicker-input",t);t.data("timepicker-list",r);u=i.appendTo;typeof u=="string"?u=n(u):typeof u=="function"&&(u=u(t));u.append(r);c(t,r);r.on("click","li",function(){t.addClass("ui-timepicker-hideme");t[0].focus();r.find("li").removeClass("ui-timepicker-selected");n(this).addClass("ui-timepicker-selected");s(t);r.hide()})}function y(){var n=new Date,i=n.getTimezoneOffset()*6e4,t;return n.setHours(0),n.setMinutes(0),n.setSeconds(0),t=n.getTimezoneOffset()*6e4,new Date(n.valueOf()-t+i)}function p(t){if("ontouchstart"in document)n("body").on("touchstart.ui-timepicker",o);else{n("body").on("mousedown.ui-timepicker",o);if(t.closeOnWindowScroll)n(window).on("scroll.ui-timepicker",o)}}function o(t){var r=n(t.target),u=r.closest(".ui-timepicker-input");u.length===0&&r.closest(".ui-timepicker-list").length===0&&(i.hide(),n("body").unbind(".ui-timepicker"),n(window).unbind(".ui-timepicker"))}function u(t,i,r){if(!r&&r!==0)return!1;var e=t.data("timepicker-settings"),u=!1,f=e.step*30;return i.find("li").each(function(t,i){var e=n(i),o=e.data("time")-r;if(Math.abs(o)<f||o==f)return u=e,!1}),u}function c(n,i){var f=t(n.val()),r=u(n,i,f);r&&r.addClass("ui-timepicker-selected")}function l(){var u,i,r,e,o;if(this.value!==""){if(u=n(this),i=t(this.value),i===null){u.trigger("timeFormatError");return}r=u.data("timepicker-settings");r.forceRoundTime&&(e=i%(r.step*60),e>=r.step*30?i+=r.step*60-e:i-=e);o=f(i,r.timeFormat);u.val(o)}}function w(t){var f=n(this),u=f.data("timepicker-list"),r;if(!u||!u.is(":visible"))if(t.keyCode==40)f.focus();else return!0;switch(t.keyCode){case 13:return s(f),i.hide.apply(this),t.preventDefault(),!1;case 38:r=u.find(".ui-timepicker-selected");r.length?r.is(":first-child")||(r.removeClass("ui-timepicker-selected"),r.prev().addClass("ui-timepicker-selected"),r.prev().position().top<r.outerHeight()&&u.scrollTop(u.scrollTop()-r.outerHeight())):(u.children().each(function(t,i){if(n(i).position().top>0)return r=n(i),!1}),r.addClass("ui-timepicker-selected"));break;case 40:r=u.find(".ui-timepicker-selected");r.length===0?(u.children().each(function(t,i){if(n(i).position().top>0)return r=n(i),!1}),r.addClass("ui-timepicker-selected")):r.is(":last-child")||(r.removeClass("ui-timepicker-selected"),r.next().addClass("ui-timepicker-selected"),r.next().position().top+2*r.outerHeight()>u.outerHeight()&&u.scrollTop(u.scrollTop()+r.outerHeight()));break;case 27:u.find("li").removeClass("ui-timepicker-selected");u.hide();break;case 9:i.hide();break;case 16:case 17:case 18:case 19:case 20:case 33:case 34:case 35:case 36:case 37:case 39:case 45:return;default:u.find("li").removeClass("ui-timepicker-selected");return}}function s(n){var o=n.data("timepicker-settings"),r=n.data("timepicker-list"),i=null,u=r.find(".ui-timepicker-selected"),e;u.length?i=u.data("time"):n.val()&&(i=t(n.val()),c(n,r));i!==null&&(e=f(i,o.timeFormat),n.val(e));n.trigger("change").trigger("changeTime")}function b(n){var t=Math.round(n/60),i,u;return Math.abs(t)<60?i=[t,r.mins]:t==60?i=["1",r.hr]:(u=(t/60).toFixed(1),r.decimal!="."&&(u=u.replace(".",r.decimal)),i=[u,r.hrs]),i.join(" ")}function f(n,t){var u,r,i,o,f,e;if(n!==null){for(u=new Date(h.valueOf()+n*1e3),r="",f=0;f<t.length;f++){o=t.charAt(f);switch(o){case"a":r+=u.getHours()>11?"pm":"am";break;case"A":r+=u.getHours()>11?"PM":"AM";break;case"g":i=u.getHours()%12;r+=i===0?"12":i;break;case"G":r+=u.getHours();break;case"h":i=u.getHours()%12;i!==0&&i<10&&(i="0"+i);r+=i===0?"12":i;break;case"H":i=u.getHours();r+=i>9?i:"0"+i;break;case"i":e=u.getMinutes();r+=e>9?e:"0"+e;break;case"s":n=u.getSeconds();r+=n>9?n:"0"+n;break;default:r+=o}}return r}}function t(n){var o,r,t,i,u,f,e;return n===""||n==undefined?null:n+0==n?n:(typeof n=="object"&&(n=n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()),o=new Date(0),r=n.indexOf(":")!==-1?/(\d{1,2})(?::(\d{1,2}))?(?::(\d{1,2}))?\s*([pa]?)/:/^([0-2][0-9]):?([0-5][0-9])?:?([0-5][0-9])?\s*([pa]?)$/,t=n.toLowerCase().match(r),!t)?null:(i=parseInt(t[1]*1,10),u=t[4]?i==12?t[4]=="p"?12:0:i+(t[4]=="p"?12:0):i,f=t[2]*1||0,e=t[3]*1||0,u*3600+f*60+e)}var h=y(),e=86400,a={className:null,minTime:null,maxTime:null,durationTime:null,step:30,showDuration:!1,timeFormat:"g:ia",scrollDefaultNow:!1,scrollDefaultTime:!1,selectOnBlur:!1,disableTouchKeyboard:!0,forceRoundTime:!1,appendTo:"body",closeOnWindowScroll:!0},r={decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},i={init:function(u){return this.each(function(){var e=n(this),h,s,o,c,f;if(e[0].tagName=="SELECT"){for(h={type:"text",value:e.val()},s=e[0].attributes,o=0;o<s.length;o++)h[s[o].nodeName]=s[o].nodeValue;c=n("<input />",h);e.replaceWith(c);e=c}f=n.extend({},a);u&&(f=n.extend(f,u));f.minTime&&(f.minTime=t(f.minTime));f.maxTime&&(f.maxTime=t(f.maxTime));f.durationTime&&(f.durationTime=t(f.durationTime));f.lang&&(r=n.extend(r,f.lang));e.data("timepicker-settings",f);e.prop("autocomplete","off");e.on("click.timepicker focus.timepicker",i.show);e.on("blur.timepicker",l);e.on("keydown.timepicker",w);e.addClass("ui-timepicker-input");l.call(e.get(0))})},show:function(){var r=n(this),o=r.data("timepicker-settings"),f,e,s;if("ontouchstart"in document&&o.disableTouchKeyboard&&r.blur(),f=r.data("timepicker-list"),!r.prop("readonly")){if(f&&f.length!==0||(v(r),f=r.data("timepicker-list")),r.hasClass("ui-timepicker-hideme")){r.removeClass("ui-timepicker-hideme");f.hide();return}f.is(":visible")||(i.hide(),f.show(),r.offset().top+r.outerHeight(!0)+f.outerHeight()>n(window).height()+n(window).scrollTop()?f.offset({left:r.offset().left,top:r.offset().top-f.outerHeight()}):f.offset({left:r.offset().left,top:r.offset().top+r.outerHeight()}),e=f.find(".ui-timepicker-selected"),e.length||(r.val()?e=u(r,f,t(r.val())):o.scrollDefaultNow?e=u(r,f,t(new Date)):o.scrollDefaultTime!==!1&&(e=u(r,f,t(o.scrollDefaultTime)))),e&&e.length?(s=f.scrollTop()+e.position().top-e.outerHeight(),f.scrollTop(s)):f.scrollTop(0),p(o),r.trigger("showTimepicker"))}},hide:function(){n(".ui-timepicker-list:visible").each(function(){var i=n(this),t=i.data("timepicker-input"),r=t.data("timepicker-settings");r&&r.selectOnBlur&&s(t);i.hide();t.trigger("hideTimepicker")})},option:function(i,r){var f=n(this),u=f.data("timepicker-settings"),e=f.data("timepicker-list");if(typeof i=="object")u=n.extend(u,i);else if(typeof i=="string"&&typeof r!="undefined")u[i]=r;else if(typeof i=="string")return u[i];u.minTime&&(u.minTime=t(u.minTime));u.maxTime&&(u.maxTime=t(u.maxTime));u.durationTime&&(u.durationTime=t(u.durationTime));f.data("timepicker-settings",u);e&&(e.remove(),f.data("timepicker-list",!1))},getSecondsFromMidnight:function(){return t(n(this).val())},getTime:function(){return new Date(h.valueOf()+t(n(this).val())*1e3)},setTime:function(i){var r=n(this),u=f(t(i),r.data("timepicker-settings").timeFormat);r.val(u)},remove:function(){var t=n(this);t.hasClass("ui-timepicker-input")&&(t.removeAttr("autocomplete","off"),t.removeClass("ui-timepicker-input"),t.removeData("timepicker-settings"),t.off(".timepicker"),t.data("timepicker-list")&&t.data("timepicker-list").remove(),t.removeData("timepicker-list"))}};n.fn.timepicker=function(t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.timepicker");else return i.init.apply(this,arguments)}});
//# sourceMappingURL=jquery.timepicker.min.js.map
