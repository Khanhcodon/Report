function PopupChat(n){this.friend=n.friend;this.thread=n.thread||"";this.avatar="";this.thread=""}PopupChat.templateSentMsg='<li class="clearfix list-group-item"><div class="chat-body right pull-right"><div class="tooltip-arrow"><\/div><div class="tooltip-inner">';PopupChat.templateCloseMsg="<\/div><\/div><\/li>";PopupChat.templateRecievedMsg='<li class="clearfix list-group-item"><div class="chat-body left"><div class="tooltip-arrow"><\/div><div class="tooltip-inner">';PopupChat.templateFriendInformation='<div class="panel-body"><div class="row"><div class="col-md-3"><img class="img-circle chat-image"><\/div><div class="col-md-13"><div class="bold-text"><\/div><div class="second-color"><span><\/span><\/div><\/div><\/div><\/div>';PopupChat.templateHeader='<div class="panel-heading primary-color white-color"><span class="icon-record online-color qtooltip" data-hasqtip="36" oldtitle="Online" title=""><\/span><span class="icon-cross pull-right qtooltip close" data-hasqtip="40" oldtitle="Đóng" title=""><\/span><span class="icon-minus4 pull-right qtooltip minimize" data-hasqtip="41" oldtitle="Thu gọn" title=""><\/span><\/div><\/div>';PopupChat.templateDivHeader='<div class="panel full-height z-depth-3">';PopupChat.templateBody='<ul class="chat list-group" style="overflow-y: hidden; outline: none;" tabindex="5001"><\/ul>';PopupChat.templateFooter='<div class="panel-footer"><div class="input-group input-group-sm"><input type="text" class="form-control chat-editor" placeholder="Nhập nội dung chat..."><span class="input-group-btn"><button class="btn btn-default" type="button"><span class="icon-cool"><\/span><\/button><\/span><\/div><\/div>';PopupChat.prototype.getBodyChatContainer=function(){return $("#"+this.getPopupId()+" .chat list-group")};PopupChat.prototype.getPopupId=function(){return this.friend.account};PopupChat.prototype.initPopup=function(){var n=PopupChat.templateDivHeader+PopupChat.templateHeader+PopupChat.templateFriendInformation+PopupChat.templateBody+PopupChat.templateFooter;return n+"<\/div>"};PopupChat.protoype.initBodyChat=function(){return PopupChat.templateBody};PopupChat.prototype.initHeader=function(){return PopupChat.templateHeader};PopupChat.prototype.initInformation=function(){return PopupChat.templateFriendInformation};PopupChat.prototype.initFooter=function(){return PopupChat.templateFooter};PopupChat.prototype.getAvatar=function(){return"https://danhba.bkav.com/avatars/"+this.getPopupId()+".bmp"};PopupChat.prototype.minimizePopup=function(n){$(n).parents("li").hide();$("#chatList #btnNewChat").is(":hidden")&&showNewChatButton();$("#chatList").prepend($("#ChatMinimize").tmpl({avatar:this.getAvatar(),name:this.friend.fullName,target:$(n).parents("li").attr("id")}))};PopupChat.prototype.maximizePopup=function(){};PopupChat.prototype.closeChat=function(n){$(n).qtip("hide");$(n).parents("li").remove();$("#chatList li").length===2&&$(".chat-form li").length===0&&$("#chatList #btnNewChat").hide()};PopupChat.prototype.sendMsg=function(n){ChatHangout.CHAT_WINDOW.sendIMMessage(null,null,null,null,this.friend.fullAccount,this.thread,null,n,null)};PopupChat.prototype.updateMsg=function(n,t){var i="",r;i=t?PopupChat.templateSentMsg+n+PopupChat.templateCloseMsg:PopupChat.templateRecievedMsg+n+PopupChat.templateCloseMsg;r=this.getBodyChatContainer();$(r).append(i)};PopupChat.prototype.sendTyping=function(){var n=ChatHangout.CHAT_WINDOW.tabChat();n.sendTyping(this.friend.account)};PopupChat.prototype.sendEndTyping=function(){var n=ChatHangout.CHAT_WINDOW.tabChat();n.endTyping(this.friend.account)};PopupChat.prototype.resetChat=function(){$("#"+popupId+" .chat-editor").val("")};PopupChat.prototype.handleEvent=function(){var n=this,t=this.getPopupId();$("#"+t+" .chat-editor").keypress(function(i){if(i.keyCode==13){var r=$("#"+t+" .chat-editor").val();n.sendMsg(r)}else i.keyCode==8?$("#"+t+" .chat-editor").val()==""&&n.sendEndTyping():n.sendTyping()});$("#"+t+" .close").click(function(){n.closeChat(this)});$("#"+t+" .minimize").click(function(){n.minimizePopup(this)})};
//# sourceMappingURL=PopupChat.min.js.map
