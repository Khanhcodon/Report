(function(){jQuery.fn.resizecolumn=function(n){n=$.extend({isUsingCustomScroll:!0,isResizeColumn:!0,isFixHeightContent:!0,isAddHoverRow:!0,prefix:"",isUseCookie:!0,onresizefinish:function(){}},n);var f=null,e=null,s=null,u=null,r=null,i=null,o=null,c=null,h=null,t=null;this.each(function(l,a){var d=$(a),v=$(d).attr("id"),p,g,rt,nt,b,y,w,tt,ut,it,k;if($(this).find(".grid-content tr:odd").addClass("trodd"),n.isAddHoverRow&&(p=$("#"+v+" .grid-content table tbody tr"),p.length>0&&(p.hover(function(){$(this).addClass("hover-row")},function(){$(this).removeClass("hover-row")}),p.click(function(){p.removeClass("highlight-row");$(this).addClass("highlight-row")}),p.mousedown(function(n){n.which===3&&(p.removeClass("highlight-row"),$(this).addClass("highlight-row"))}),$("#"+v+" .grid-content table tbody tr input, #"+v+" .grid-content table tbody tr a, #"+v+" tbody tr button").click(function(n){return n.stopPropagation(),!0}))),n.isFixHeightContent?$(this).find(".grid-content").css({"overflow-y":"scroll"}):$(this).find(".grid-content").css({"overflow-y":"visible",height:""}),n.isResizeColumn){if(n.isFixHeightContent&&!n.isUsingCustomScroll&&$(".grid-header").css("padding-right",$.layout.scrollbarWidth()+"px"),$(this).find(".grid-content").css({"overflow-x":"auto"}),g=v+"_"+l+"_"+n.prefix,rt=$(d).find("table thead tr:first th"),$(".grid-content").unbind("scroll"),$(".grid-content").scroll(function(){$(".grid-header-wrap").scrollLeft($(this).scrollLeft())}),nt=n.isUseCookie?$.cookie(g):null,u=$("#"+v+" .grid-header table"),i=$("#"+v+" .grid-header table colgroup col"),r=$("#"+v+" .grid-content table"),o=$("#"+v+" .grid-content table colgroup col"),u.width("auto"),r.width("auto"),nt){if(b=nt.split(","),b.length==i.length){for(t=0,y=0;y<b.length;y++)i.eq(y)&&(i.eq(y).width(b[y]+"px"),o.eq(y).width(b[y]+"px"),t+=parseInt(b[y]));u.width(t+"px");r.width(t+"px")}}else{if(w=[],tt=0,i.each(function(n){$(this).width()==0||$(this).inlineStyle("width")==null?w.push(n):tt+=$(this).width()}),w.length>0)for(t=$(d).width()-1,n.isFixHeightContent&&(t=t-$.layout.scrollbarWidth()),ut=t-tt,it=ut/w.length,k=0;k<w.length;k++)i.eq(w[k]).width(it),o.eq(w[k]).width(it);else t=0,i.each(function(n,i){t+=$(i).width()});u.width(t+"px");r.width(t+"px")}n.isUsingCustomScroll&&$(".grid-content").niceScroll();rt.each(function(l,a){$(a).unbind("mousedown");$(a).mousedown(function(l){if($(l.target).css("cursor")=="col-resize"){l.preventDefault();$("body").addClass("unselectable");f=!0;e=l.target;s=$(e).index();c=l.clientX;h=$(e).outerWidth();t=r.width();var a=$('<div id="resize-column-layer" style="position:fixed; z-index:100; top:0; left:0; opacity: 0; filter: alpha(opacity=0); background-color: #000;cursor: col-resize !important;"><\/div>').css({height:$(document).height(),width:$(document).width(),display:"block"}).mousemove(function(n){var e,l;f&&(e=c-n.clientX,h-e>10&&(l=h-e,i.eq(s).width(l),o.eq(s).width(l),u.width(t-e),r.width(t-e)))}).mouseup(function(){var h,c,u;if(f){if(f=!1,e=null,$("body").css({cursor:""}),$("body").removeClass("unselectable"),n.isUseCookie){var o=[],t=[],s=0;if(i.each(function(n){$(this).width()==0||$(this).inlineStyle("width")==null?t.push(n):s+=$(this).width();o.push($(this).width())}),t.length>0)for(h=r.width()-s,c=h/t.length,u=0;u<t.length;u++)o[t[u]]=c;$.cookie(g,o.join(","),{expires:7,path:"/",secure:!0})}n.onresizefinish&&$.isFunction(n.onresizefinish)&&n.onresizefinish();n.isUsingCustomScroll&&$(".grid-content").getNiceScroll().resize();$(this).remove()}}).appendTo("body");$.support.fixedPosition||a.css({position:"absolute",height:$(document).height()})}});$(a).unbind("mousemove");$(a).mousemove(function(n){if($(n.target).attr("class")!="grid-header-wrap"&&$(n.target).attr("class")=="header"){var t=$(n.target).bounds();Math.abs(t.left+t.width+6-n.clientX)<=5?$(n.target).css({cursor:"col-resize"}):$(n.target).css({cursor:""})}})})}else $(this).find(".grid-content").css({"overflow-x":"visible"}),$(this).find(".grid-header table").css("width",$(this).width()-1),$(this).find(".grid-content table").css("width",$(this).width()-2)})}})(),function(){jQuery.fn.bounds=function(){var n={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:Number.NaN,height:Number.NaN};return this.each(function(t,i){var u=$(i),r=u.offset();r.right=r.left+$(u).width();r.bottom=r.top+$(u).height();r.left<n.left&&(n.left=r.left);r.top<n.top&&(n.top=r.top);r.right>n.right&&(n.right=r.right);r.bottom>n.bottom&&(n.bottom=r.bottom)}),n.width=n.right-n.left,n.height=n.bottom-n.top,n}}(),function(){$.fn.inlineStyle=function(n){var t=$(this).attr("style"),i=null;return t&&t.split(";").forEach(function(t){var r=t.split(":");$.trim(r[0])===n&&(i=r[1])}),i}}(),function(){jQuery.fn.normalGrid=function(){var i=$(this).width(),n,t;$(this).find(".table-main").css("width",i);$(this).find(".grid-content").css({height:"",overflow:"visible","overflow-x":"visible"});$(this).find(".grid-header").css({"border-bottom-style":"none"});n=$(this).find(".grid-header table thead tr:first th");t=$(this).find(".grid-content table tbody tr:first td");n.each(function(n,i){$(i).width(t[n].width())})}}(),function(){jQuery.fn.resizableGrid=function(){}}();
//# sourceMappingURL=bkav.resizecolumn.min.js.map
