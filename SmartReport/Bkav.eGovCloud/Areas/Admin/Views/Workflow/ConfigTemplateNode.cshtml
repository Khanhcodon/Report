@{
    ViewBag.Title = Localizer("Common.Doctype.TemplateNode.Config");
}

    <script src="@Url.Content("~/Scripts/bkav.egov/libs/jquery/jquery-2.2.3.min.js")"></script>
    <script src="@Url.Content("~/Scripts/bkav.egov/libs/jquery/jquery-ui-1.8.22.modified.min.js")"></script>
    <script src="../../../../Scripts/release/bkav.egov/libs/jquery/jquery.blockUI.min.js"></script>
    <script src="@Url.Content("~/Scripts/bkav.egov/libs/bkav/bkav.messagebox.js")"></script>
    <script src="@Url.Content("~/Scripts/bkav.egov/libs/bkav/bkav.blockpanel.js")"></script>
         <script src="../../../../Scripts/release/bkav.egov/libs/jquery/jquery.dialogextend.min.js"></script>

<script type="text/javascript">
    function saveTemplate() {   
        $.post("/Admin/workflow/ConfigTemplateNode",
            {
                workflowId: @ViewBag.WorkflowId,
                nodeId: @ViewBag.NodeId,
                templateId: $("#templateId").val()
            },
            function (data) {
                if (data) {
                    if (data.error) {
                        eGovMessage.notification(data.error, eGovMessage.messageTypes.error);
                    } else {
                        closeConfigTemplate();
                    }
                }
            }
        ).fail(function() {
            eGovMessage.notification("@Localizer("Common.Error")", eGovMessage.messageTypes.error);
        });
    }
</script>
<div id="tabs" class="bkavegov">
    <table>
        <tr>
            <td>@Localizer("Bkav.eGovCloud.Areas.Admin.Workflow.CreateOrEdit.Fields.InterfaceConfigId.Label")</td>
            <td>@Html.DropDownList("templateId", ViewBag.AllInterfaceConfig as IEnumerable<SelectListItem>, Localizer("Common.Choose.Label"))</td>
        </tr>
    </table>
</div>
